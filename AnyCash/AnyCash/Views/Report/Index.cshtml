@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="~/Assets/font-awesome-4.7.0/css/font-awesome.css" rel="stylesheet" type="text/css" />
<link href="~/Assets/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" />
<link rel="stylesheet prefetch" href="http://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js"></script>

<!-- Select2 -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/css/select2.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/js/select2.min.js"></script>
<!-- /Select2 -->
<!-- Data Table-->
<!--===============================================================================================-->
<link rel="icon" type="image/png" href="~/Table_Fixed_Header/images/icons/favicon.ico" />
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css" href="~/Table_Fixed_Header/vendor/animate/animate.css">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css" href="~/Table_Fixed_Header/vendor/perfect-scrollbar/perfect-scrollbar.css">
<!--===============================================================================================-->
<link rel="stylesheet" type="text/css" href="~/Table_Fixed_Header/css/util.css">
<link rel="stylesheet" type="text/css" href="~/Table_Fixed_Header/css/main.css">
<!--===============================================================================================-->
<!-- /Data Table-->
<div class="container">
    <style>
        .content-wrapper {
            overflow-y: scroll !important;
        }

        .navbar {
            padding: 0.5rem 0 !important;
        }

        .navbar-toggler {
            padding: 0px 5px 0px 5px !important;
        }

        .mainform {
            box-shadow: 0px 0px 10px 5px grey;
            background-color: white;
            margin: 10px;
        }

        .container {
            width: auto;
        }

        label {
            margin-left: 20px;
        }

        #datepicker {
            width: 95%;
            margin: 5px 10px 10px 8px;
        }

            #datepicker > span:hover {
                cursor: pointer;
            }

        #datepicker1 {
            width: 95%;
            margin: 5px 10px 10px 8px;
        }

            #datepicker1 > span:hover {
                cursor: pointer;
            }


        /* The search field */
        #myInput {
            box-sizing: border-box;
            background-image: url('searchicon.png');
            background-position: 14px 12px;
            background-repeat: no-repeat;
            font-size: 16px;
            padding: 14px 20px 12px 45px;
            border: none;
            border-bottom: 1px solid #ddd;
        }

            /* The search field when it gets focus/clicked on */
            #myInput:focus {
                outline: 3px solid #ddd;
            }

        #myInput1 {
            box-sizing: border-box;
            background-image: url('searchicon.png');
            background-position: 14px 12px;
            background-repeat: no-repeat;
            font-size: 16px;
            padding: 14px 20px 12px 45px;
            border: none;
            border-bottom: 1px solid #ddd;
        }

            /* The search field when it gets focus/clicked on */
            #myInput1:focus {
                outline: 3px solid #ddd;
            }
        /* The container <div> - needed to position the dropdown content */
        .rp_dropdown {
            display: inline-block;
            width: 95%;
            margin: 5px 10px 10px 8px;
        }

        /* Dropdown Content (Hidden by Default) */
        .rp_dropdown-content {
            display: none;
            position: absolute;
            background-color: #f6f6f6;
            min-width: 230px;
            border: 1px solid #ddd;
            z-index: 1;
        }

            /* Links inside the dropdown */
            .rp_dropdown-content a {
                color: black;
                padding: 12px 16px;
                text-decoration: none;
                display: block;
            }

                /* Change color of dropdown links on hover */
                .rp_dropdown-content a:hover {
                    background-color: #f1f1f1
                }

        /* Show the dropdown menu (use JS to add this class to the .dropdown-content container when the user clicks on the dropdown button) */
        .show {
            display: block;
        }

        .sidebtn {
            display: flex;
        }

        .select2 {
            width: 100% !important;
        }

        .select2_selectbox {
            width: 95%;
            margin: 5px 10px 10px 8px;
        }

        .select2-container--default .select2-selection--single .select2-selection__rendered {
            line-height: 14px !important;
        }

        .btn_search {
            margin: 10px 0px 10px 0px;
        }
    </style>

    <div>
        <h2 style="margin-top: 20px">Tổng kết giao dịch</h2>
    </div>
    <div class="container mainform">
        <div style="margin-top: 10px; margin-left:20px; margin-right:20px;">
            <button class="btn btn-success"><span class="fa fa-file-excel-o"></span> Excel </button>
            <button class="btn btn-info"><span class="glyphicon glyphicon-print"></span> In </button>
            <nav class="navbar" style="margin-top: 5px;">
                <button style="margin: 7px;" type="button" class="btn btn-default" data-toggle="collapse" data-target="#searchForm"><span class="glyphicon glyphicon-search"></span></button>
                <div id="searchForm" class="collapse in" style="background-color:azure">
                    <div>Từ ngày:</div>
                    <div id="datepicker" class="input-group date" data-date-format="dd-mm-yyyy" style="margin-top: 5px">
                        <input id="FD" style="width: 100%;" class="form-control" readonly="" type="text" placeholder="Từ ngày"> <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                    </div>
                    <div>Đến ngày:</div>
                    <div id="datepicker1" class="input-group date" data-date-format="dd-mm-yyyy">
                        <input id="TD" style="width: 100%;" class="form-control" readonly="" type="text" placeholder="Đến ngày"> <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                    </div>
                    <div class="select2_selectbox">
                        <select class="form-control select_form" name="Loai_hinh_giao_dich" id="LHGD">
                            <option value="">Tất cả loại hình giao dịch</option>
                            <option value="Bát họ">Bát họ</option>
                            <option value="Cầm đồ">Cầm đồ</option>
                            <option value="Vay lãi">Vay lãi</option>
                            <option value="Vốn">Vốn</option>
                            <option value="Hoạt động thu">Hoạt động thu</option>
                            <option value="Hoạt động chi">Hoạt động chi</option>
                            <option value="Nhập quỹ tiền đầu ngày">Nhappj quỹ tiền đầu ngày</option>
                        </select>
                    </div>
                    <div class="select2_selectbox">
                        <select class="form-control select_form" name="Nhan_vien" id="NV">
                            <option value="AL">Alabama</option>
                            <option value="WY">Wyoming</option>
                        </select>
                    </div>

                    <button style="margin-left: 7px;" class="btn btn-primary btn_search" onclick="search()"><span class="glyphicon glyphicon-search"></span>Tìm Kiếm</button>

                </div>

                <hr />

                <h3 style="margin-bottom: 10px;"><span class="glyphicon glyphicon-list-alt"></span> Bảng tổng kết giao dịch </h3>

                <div class="table100 ver2 m-b-110">
                    <div class="table100-head">
                        <table>
                            <thead>
                                <tr class="row100 head">
                                    <th class="cell100 column1">Loại hình giao dịch</th>
                                    <th class="cell100 column2">Thu</th>
                                    <th class="cell100 column3">Chi</th>
                                    <th class="cell100 column4">Tổng cộng</th>
                                </tr>
                            </thead>
                        </table>
                    </div>

                    <div class="table100-body js-pscroll">
                        <table>
                            <tbody>
                                <tr class="row100 body">
                                    <td class="cell100 column1">Tiền đầu ngày</td>
                                    <td class="cell100 column2">@string.Format("{0:N0}", ViewBag.Thu)</td>
                                    <td class="cell100 column3">@string.Format("{0:N0}", ViewBag.Chi)</td>
                                    <td class="cell100 column4">@string.Format("{0:N0}", ViewBag.TienDauNgay)</td>
                                </tr>
                                <tr class="row100 body">
                                    <td class="cell100 column1">Cầm đồ</td>
                                    <td class="cell100 column2">@string.Format("{0:N0}", ViewBag.Thu)</td>
                                    <td class="cell100 column3">@string.Format("{0:N0}", ViewBag.Chi)</td>
                                    <td class="cell100 column4">@string.Format("{0:N0}", ViewBag.TongCong)</td>
                                </tr>
                                <tr class="row100 body">
                                    <td class="cell100 column1">Vay lãi</td>
                                    <td class="cell100 column2">@string.Format("{0:N0}", ViewBag.Thu)</td>
                                    <td class="cell100 column3">@string.Format("{0:N0}", ViewBag.Chi)</td>
                                    <td class="cell100 column4">@string.Format("{0:N0}", ViewBag.TongCong)</td>
                                </tr>
                                <tr class="row100 body">
                                    <td class="cell100 column1">Bát họ</td>
                                    <td class="cell100 column2">@string.Format("{0:N0}", ViewBag.Thu)</td>
                                    <td class="cell100 column3">@string.Format("{0:N0}", ViewBag.Chi)</td>
                                    <td class="cell100 column4">@string.Format("{0:N0}", ViewBag.TongCong)</td>
                                </tr>
                                <tr class="row100 body">
                                    <td class="cell100 column1">Thu hoạt động</td>
                                    <td class="cell100 column2">@string.Format("{0:N0}", ViewBag.Thu)</td>
                                    <td class="cell100 column3">@string.Format("{0:N0}", ViewBag.Chi)</td>
                                    <td class="cell100 column4">@string.Format("{0:N0}", ViewBag.TongCong)</td>
                                </tr>
                                <tr class="row100 body">
                                    <td class="cell100 column1">Chi hoạt động</td>
                                    <td class="cell100 column2">@string.Format("{0:N0}", ViewBag.Thu)</td>
                                    <td class="cell100 column3">@string.Format("{0:N0}", ViewBag.Chi)</td>
                                    <td class="cell100 column4">@string.Format("{0:N0}", ViewBag.TongCong)</td>
                                </tr>
                                <tr class="row100 body">
                                    <td class="cell100 column1">Nguồn vốn</td>
                                    <td class="cell100 column2">@string.Format("{0:N0}", ViewBag.Thu)</td>
                                    <td class="cell100 column3">@string.Format("{0:N0}", ViewBag.Chi)</td>
                                    <td class="cell100 column4">@string.Format("{0:N0}", ViewBag.TongCong)</td>
                                </tr>
                                <tr class="row100 body">
                                    <td class="cell100 column1">Tiền đầu còn lại</td>
                                    <td class="cell100 column2">@string.Format("{0:N0}", ViewBag.Thu)</td>
                                    <td class="cell100 column3">@string.Format("{0:N0}", ViewBag.Chi)</td>
                                    <td class="cell100 column4">@string.Format("{0:N0}", ViewBag.TienConLai)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <hr />

                <h3 style="margin-bottom:10px;"><span class="glyphicon glyphicon-calendar"></span> Chi tiết giao dịch </h3>

                <table class="table" id="InsResult">
                    @{ Html.RenderAction("_Chi_tiet_giao_dich", "Report", new { fromDate = DateTime.Now.ToString("dd-MM-yyyy"), toDate = DateTime.Now.ToString("dd-MM-yyyy"), LoaiHinh = "", NhanVien = "" });}
                </table>

            </nav>

        </div>
    </div>

</div>
<script type="text/javascript">

    function search() {
        var from_Date = document.getElementById("FD").value;
        var to_Date = document.getElementById("TD").value;
        var LHGD = document.getElementById("LHGD").value;
        var NV = document.getElementById("NV").value;

        var link = '@Url.Action("_Chi_tiet_giao_dich", "Report")';
        var data = { fromDate: from_Date, toDate: to_Date, LoaiHinh: LHGD, NgGD: NV }
        $("#InsResult").load(link, data);
    }

    $(function () {
        $("#datepicker").datepicker({
            autoclose: true,
            todayHighlight: true
        }).datepicker('update', new Date());
    });

    $(function () {
        $("#datepicker1").datepicker({
            autoclose: true,
            todayHighlight: true
        }).datepicker('update', new Date());
    });

    function myFunction() {
        document.getElementById("myDropdown").classList.toggle("show");
        document.getElementById("myDropdown1").classList.remove("show");
    }
    function myFunction1() {
        document.getElementById("myDropdown1").classList.toggle("show");
        document.getElementById("myDropdown").classList.remove("show");
    }

    function filterFunction() {
        var input, filter, ul, li, a, i;
        input = document.getElementById("myInput");
        filter = input.value.toUpperCase();
        div = document.getElementById("myDropdown");
        a = div.getElementsByTagName("a");
        for (i = 0; i < a.length; i++) {
            txtValue = a[i].textContent || a[i].innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                a[i].style.display = "";
            } else {
                a[i].style.display = "none";
            }
        }
    }

    function filterFunction1() {
        var input, filter, ul, li, a, i;
        input = document.getElementById("myInput1");
        filter = input.value.toUpperCase();
        div = document.getElementById("myDropdown1");
        a = div.getElementsByTagName("a");
        for (i = 0; i < a.length; i++) {
            txtValue = a[i].textContent || a[i].innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                a[i].style.display = "";
            } else {
                a[i].style.display = "none";
            }
        }
    }

    $(document).ready(function () {
        $('.select_form').select2();
    });

</script>


